# Profolio

Alexandra Dorey's Portfolio for Interviews

...A small smattering of code from a past project...

General Design: 

1. Data is stored in a no SQL database (Firestore), shared by multiple users and storefront / website in realtime. 

2. Datamodel is defined as simple C# clases (sample: product.cs) used to generate datamodel with required class adornments and additional functions for property change notification. (See: Imageedit_F.cs (Clone Function) ImageEdit_P (Class properties) and viewmodels (Imagedit_DOCVM.cs) properties are also Autogenerated to maintain variable names allowing baseclasses onpropertychanges overrides to propagate data from view to cloud and back again out of the box. (i.e. if all you need to do is edit a field with no logic added, away you go, data validators can be added at the WPF level for basic stuff, or it's easy to edit the autogenerator code to add in validation or conversion at the VM level. 
 
3. Business logic impleneted in C# model classes and used by Desktop Application and Google Cloud functions (Used to feed data to website and/or responds to Paypal callbacks on payment reciept etc.) 

4. Desktop Program loads all data from the cloud into a local data structure that mirrors the cloud NOSqL database structure, changes from cloud are incorperated instantly, changes from desktop take roughly 1min to propagate up to cloud. IPropertyChange / events are used to push and pull changes from View to Model (passing through VM). Cloud updates to one record are combine and after 30s of nochanges are aggreegate with all other  nodes chnages pushed as a transaction. Cloud functions load a subset of the data (cold function start times are too long for webpage loads so I keep a function active for quick loading for cart interfacing and JSON serving), Cloud functions serve as a VM layer transfroming c# data to JSONs that are served to the SPA as required (written in Angular => SPA is servered from Firebase, user authentication is handled via firebase authenication and checkout is via integration with paypal)

Files Included:

AwareList.cs - A list class that triggers a that adds a list to a updatequeue

ClickSelectTextBox.cs - Importing Validation Rules from orginal base style and updates the binding, allowing validation rules to be set on a basestyle.

CustomerViewer.xaml / Customerviewer.cs - Customer Order / Browser / and shipment creator.

DocumentSelector.xaml / DocumentSelector.cs - Generic window to select a node from a list of nodes.

DocumentViewModel.cs - Generic Baseclass for all Viewmodels, allows search by name functionally and mirrors datatree organization on firestore.

Firestore.cs - Static class that setups the cloud firestore (NoSQL database), starts the listeners that also download the current state, and starts the background deamon that pushes local changes to the cloud, changes are added to a concurrent queue that processes aggregates multiples changes to local objects and pushes as batches to speed up transfers and respect DB limitations( Firestore has a limit on how often a specific record can be modified)

FirestoreNode.cs - Baseclass for DataNode (no SQL database), Classes are generated from classes defined in product.cs into classes as per ImageEdit_f.cs and ImageEdit_p.cs, business logic implemented in each class as required, easy to modify data model structure to adjust to changing requiments. Autogenerated Clone function also created.

GlobalStyles.xaml - Global styles used for WPF TextBoxes / Listviews etc, integrated with controls that are designed to push updates on small changes so keep cloud sync working. 

ImageEdit_DOCVM.cs viewmodel class (derived from DocumentViewModel.cs), datastructure for Database is available and allows creation of common controls that can search a collection of documents by Name (or other specifed search field).

ImageEdit_F.cs / ImageEdit_P.cs - Class derived from FirestoreNode. Business logic defined in seperate file. Note a bit of an odd duck, An Image edit is a "edited" image, desktop program allows importing of product display images, all product images are clipped to a square (for easy website intengration and a consistant look. Crop can be edited and a couple basic filter applied. Program then processes images, reisizes to suit website requirements and uploads them to the imagesserver. The the SPA that runs the webpages selects the approiate image based on the required resolution and serves it. Original full res images are kept on a secure server so printable designs are secure. Borders are also deliberatly destroyed so that anyone seeking to copy designs from website has a more annoying time at it. 

Observable Filter Chip list - Takes two lists (all possibles items, and currently selected items, and allows items to be added and removed from list, search and some list filtering availabl)

readme.md - This file :)

observableConcurrentDataSourceGroup.cs - Collection of all records of a particular type (each listener from NoSQL pulls in all records of a certain type), Listeners async fill a data queue, for each type, this classes reads the changes (add / remove ) and updates the local tree's accordingly, which is passed to the View via the Viewmodels so that the UI updates realtime as data is added / removed from the cloud datamodel. Note there is no locking mechanism currenty on cloud data items / collections, so update wars could occurre, current user base is small and has very delineated areas of responibliity so it's not an issue, but such a mechanism will be required in the future. 

product.cs - Datamodel is created using simple class declarations then the models with all required adornments to allow datamodel fill from cloud and addiiontal calls to make all properties compartible with the INotifyPropertyChanged framework / events for easy wpf integration.


